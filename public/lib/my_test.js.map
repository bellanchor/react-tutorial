{"version":3,"sources":["my_test.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","CommentList","React","createClass","displayName","render","commentNodes","this","props","data","map","comment","createElement","Comment","author","key","id","text","className","CommentForm","getInitialState","updateName","setState","target","value","updateComment","postComment","preventDefault","state","trim","onCommentSubmit","onSubmit","type","name","placeholder","onChange","rawMarkup","marked","children","toString","sanitize","__html","dangerouslySetInnerHTML","CommentBox","loadDataFromServer","_this","$","ajax","url","dataType","cache","success","error","xhr","status","err","console","componentDidMount","setInterval","pollInterval","commentSubmit","_this2","ReactDOM","document","getElementById"],"mappings":"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","file":"my_test.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar CommentList = React.createClass({\n    displayName: 'CommentList',\n\n    render: function render() {\n        var commentNodes = this.props.data.map(function (comment) {\n            return React.createElement(\n                Comment,\n                { author: comment.author, key: comment.id },\n                comment.text\n            );\n        });\n        return React.createElement(\n            'div',\n            { className: 'commentList' },\n            commentNodes\n        );\n    }\n});\n\nvar CommentForm = React.createClass({\n    displayName: 'CommentForm',\n\n    getInitialState: function getInitialState() {\n        return { author: '', text: '' };\n    },\n    updateName: function updateName(e) {\n        this.setState({ author: e.target.value });\n    },\n    updateComment: function updateComment(e) {\n        this.setState({ text: e.target.value });\n    },\n    postComment: function postComment(e) {\n        e.preventDefault();\n        var author = this.state.author.trim();\n        var text = this.state.text.trim();\n        if (!text || !author) {\n            return;\n        }\n\n        this.props.onCommentSubmit({ author: author, text: text });\n        this.setState({ author: '', text: '' });\n    },\n    render: function render() {\n        return React.createElement(\n            'form',\n            { className: 'commentForm', onSubmit: this.postComment },\n            React.createElement('input', { type: 'text', name: 'author', placeholder: 'your name', value: this.state.author, onChange: this.updateName }),\n            React.createElement('input', { type: 'text', name: 'text', placeholder: 'your comment', value: this.state.text, onChange: this.updateComment }),\n            React.createElement('input', { type: 'submit', value: 'submit' })\n        );\n    }\n});\n\nvar Comment = React.createClass({\n    displayName: 'Comment',\n\n    rawMarkup: function rawMarkup() {\n        var rawMarkup = marked(this.props.children.toString(), { sanitize: true });\n        return { __html: rawMarkup };\n    },\n\n    render: function render() {\n        return React.createElement(\n            'div',\n            { className: 'comment' },\n            React.createElement(\n                'h2',\n                { className: 'commentAuthor' },\n                this.props.author\n            ),\n            React.createElement('span', { dangerouslySetInnerHTML: this.rawMarkup() })\n        );\n    }\n});\n\nvar CommentBox = React.createClass({\n    displayName: 'CommentBox',\n\n    getInitialState: function getInitialState() {\n        return { data: [] };\n    },\n\n    loadDataFromServer: function loadDataFromServer() {\n        var _this = this;\n\n        $.ajax({\n            url: this.props.url,\n            dataType: 'json',\n            cache: false,\n            success: function success(data) {\n                _this.setState({ data: data });\n            },\n            error: function error(xhr, status, err) {\n                console.error(err);\n            }\n        });\n    },\n\n    componentDidMount: function componentDidMount() {\n        this.loadDataFromServer();\n        setInterval(this.loadDataFromServer, this.props.pollInterval);\n    },\n\n    commentSubmit: function commentSubmit(comment) {\n        var _this2 = this;\n\n        $.ajax({\n            url: this.props.url,\n            dataType: 'json',\n            type: 'POST',\n            data: comment,\n            success: function success(data) {\n                _this2.setState({ data: data });\n            },\n            error: function error(xhr, status, err) {\n                console.error(err);\n            }\n        });\n    },\n\n    render: function render() {\n        return React.createElement(\n            'div',\n            null,\n            React.createElement(\n                'h1',\n                null,\n                'Comments'\n            ),\n            React.createElement(CommentList, { data: this.state.data }),\n            React.createElement(CommentForm, { onCommentSubmit: this.commentSubmit })\n        );\n    }\n});\n\nReactDOM.render(React.createElement(CommentBox, { url: '/api/comments', pollInterval: 2000 }), document.getElementById('content'));\n\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}