!function t(e,a,r){function n(c,i){if(!a[c]){if(!e[c]){var u="function"==typeof require&&require;if(!i&&u)return u(c,!0);if(o)return o(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var m=a[c]={exports:{}};e[c][0].call(m.exports,function(t){var a=e[c][1][t];return n(a?a:t)},m,m.exports,t,e,a,r)}return a[c].exports}for(var o="function"==typeof require&&require,c=0;c<r.length;c++)n(r[c]);return n}({1:[function(t,e,a){"use strict";var r=React.createClass({displayName:"CommentList",render:function(){var t=this.props.data.map(function(t){return React.createElement(o,{author:t.author,key:t.id},t.text)});return React.createElement("div",{className:"commentList"},t)}}),n=React.createClass({displayName:"CommentForm",getInitialState:function(){return{author:"",text:""}},updateName:function(t){this.setState({author:t.target.value})},updateComment:function(t){this.setState({text:t.target.value})},postComment:function(t){t.preventDefault();var e=this.state.author.trim(),a=this.state.text.trim();a&&e&&(this.props.onCommentSubmit({author:e,text:a}),this.setState({author:"",text:""}))},render:function(){return React.createElement("form",{className:"commentForm",onSubmit:this.postComment},React.createElement("input",{type:"text",name:"author",placeholder:"your name",value:this.state.author,onChange:this.updateName}),React.createElement("input",{type:"text",name:"text",placeholder:"your comment",value:this.state.text,onChange:this.updateComment}),React.createElement("input",{type:"submit",value:"submit"}))}}),o=React.createClass({displayName:"Comment",rawMarkup:function i(){var i=marked(this.props.children.toString(),{sanitize:!0});return{__html:i}},render:function(){return React.createElement("div",{className:"comment"},React.createElement("h2",{className:"commentAuthor"},this.props.author),React.createElement("span",{dangerouslySetInnerHTML:this.rawMarkup()}))}}),c=React.createClass({displayName:"CommentBox",getInitialState:function(){return{data:[]}},loadDataFromServer:function(){var t=this;$.ajax({url:this.props.url,dataType:"json",cache:!1,success:function(e){t.setState({data:e})},error:function(t,e,a){console.error(a)}})},componentDidMount:function(){this.loadDataFromServer(),setInterval(this.loadDataFromServer,this.props.pollInterval)},commentSubmit:function(t){var e=this;$.ajax({url:this.props.url,dataType:"json",type:"POST",data:t,success:function(t){e.setState({data:t})},error:function(t,e,a){console.error(a)}})},render:function(){return React.createElement("div",null,React.createElement("h1",null,"Comments"),React.createElement(r,{data:this.state.data}),React.createElement(n,{onCommentSubmit:this.commentSubmit}))}});ReactDOM.render(React.createElement(c,{url:"/api/comments",pollInterval:2e3}),document.getElementById("content"))},{}]},{},[1]);
//# sourceMappingURL=my_test.js.map
